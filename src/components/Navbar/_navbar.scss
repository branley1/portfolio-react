@use '../../styles/abstracts' as *;
@use './_interactive-elements.scss' as *;
@use './_navbar-base.scss' as *;
@use './brand/_vinyl-disk.scss' as *;
@use './toggles/_theme-toggle.scss' as *;
@use './toggles/_hamburger.scss' as *;
@use './_responsive.scss' as *;

.custom-navbar {
  --navbar-top-offset: 0.5rem;
  position: fixed;
  top: 0.5rem;
  left: 0.5rem;
  right: 0.5rem;
  z-index: 1200; /* stay above page content */
  /* Frosted glass base: theme-aware translucent gradient */
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--heading-color) 18%, transparent),
    color-mix(in srgb, var(--bg-color) 18%, transparent)
  );
  color: var(--text-color);
  font-family: 'PT Sans', sans-serif;
  border-radius: 25px;
  transition: background 0.3s ease, border-color 0.3s ease, backdrop-filter 0.3s ease, -webkit-backdrop-filter 0.3s ease;
  backdrop-filter: blur(8px);
  -webkit-backdrop-filter: blur(8px);
  border: 1px solid color-mix(in srgb, var(--heading-color) 26%, transparent);
  padding: 0.5rem 1rem;
}

/* On scroll, add subtle blur + border/shadow. Keep bg from variables (no RGB needed) */
.custom-navbar.scrolled {
  background: linear-gradient(
    135deg,
    color-mix(in srgb, var(--heading-color) 32%, transparent),
    color-mix(in srgb, var(--bg-color) 32%, transparent)
  );
  backdrop-filter: blur(16px);
  -webkit-backdrop-filter: blur(16px);
  border-color: color-mix(in srgb, var(--heading-color) 38%, transparent);
}

/* Manual layout (no bootstrap) */
.navbar-content {
  display: flex;
  align-items: center;
  justify-content: space-between;
  gap: 1rem;
  min-height: 40px; /* Ensure consistent height when navbar is closed */
}

.navbar-actions {
  display: flex;
  align-items: center;
  justify-content: flex-end;
  gap: 0.5rem;
}

.navbar-collapse {
  display: flex;
  align-items: center;
  gap: 1rem;
  flex: 1;
  min-width: 0; /* allow links to shrink as needed */
  justify-content: space-between;
}

.navbar-links {
  display: flex;
  align-items: center;
  gap: 1rem;
}